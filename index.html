<body>
    <header>
        <h1>Experiments demo audios</h1>
        <hr>
        <h2>System Comparison</h2>
        <p>YourTTS: <i>description 2</i></p>
        <p>SYNTACC: <i>description</i></p>
        <hr>
    </header>

    <h2>Experiment 1: Transfer accent</h2>
    <div id="audioTable"></div>

    <script>
        const audioFiles = [
            {system: 'yourtts', accent: 'bral-1', file: 'yourtts/bral-1/braltobral-yourtts-505Ksteps.wav'},

            {system: 'yourtts', accent: 'brpb-1', file: 'yourtts/brpb-1/brpbtobral-yourtts-505Ksteps.wav'},

            {system: 'yourtts', accent: 'brsp-2', file: 'yourtts/brsp-2/brsptobral-yourtts-505Ksteps.wav'},

            {system: 'syntacc', accent: 'bral-1', file: 'syntacc/bral-1/braltobral-syntacc-295Ksteps.wav'},

            {system: 'syntacc', accent: 'brpb-1', file: 'syntacc/brpb-1/brpbtobral-syntacc-295Ksteps.wav'},

            {system: 'syntacc', accent: 'brsp-2', file: 'syntacc/brsp-2/brsptobral-syntacc-295Ksteps.wav'},

        ];

        function createAudioTable() {
            let table = document.createElement('table');
            let headerRow = table.insertRow();
            headerRow.innerHTML = '<th>Speaker Sample</th><th>YourTTS</th><th>SynTacc</th>';

            let accents = [...new Set(audioFiles.map(file => file.accent))];

            accents.forEach(accent => {
                let row = table.insertRow();
                let speakerCell = row.insertCell();
                let groundTruthPath = `yourtts/${accent}/ground_truth.wav`;
                speakerCell.innerHTML = `Accent: ${accent}<br><audio controls><source src="${groundTruthPath}" type="audio/wav"></audio><br><i>Speaker: "Transcription"</i>`;

                let yourttsCell = row.insertCell();
                audioFiles.filter(file => file.system === 'yourtts' && file.accent === accent).forEach(audioFile => {
                    let accentName = audioFile.file.match(/(?<=to)[a-z]+(?=-)/)[0];
                    yourttsCell.innerHTML += `Accent: ${accentName}<br><audio controls><source src="${audioFile.file}" type="audio/wav"></audio><br>`;
                });

                let syntaccCell = row.insertCell();
                audioFiles.filter(file => file.system === 'syntacc' && file.accent === accent).forEach(audioFile => {
                    let accentName = audioFile.file.match(/(?<=to)[a-z]+(?=-)/)[0];
                    syntaccCell.innerHTML += `Accent: ${accentName}<br><audio controls><source src="${audioFile.file}" type="audio/wav"></audio><br>`;
                });
            });

            document.getElementById('audioTable').appendChild(table);
        }

        createAudioTable();
    </script>

    <h2>Experiment 2: General quality</h2>
    <div id="audioTable2"></div>
</body>
</html>
