<!DOCTYPE html>
<html>
<head>
    <title>TTS Accent Comparison</title>
    <style>
        body {
            font-family: Times New Roman, serif;
            margin: 0;
            padding: 0;
        }
        header {
            padding: 20px;
            text-align: left;
        }
        hr {
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        .transcript {
            text-align: left;
            font-style: italic;
            color: #666;
        }
        .experiment-section {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>Experiments demo audios</h1>
        <hr>
        <h2>System Comparison</h2>
        <p>YourTTS (CASANOVA <i>et al</i>, 2021): <i>YourTTS brings the power of a multilingual approach to the task of zero-shot multi-speaker TTS. Our method builds upon the VITS model and adds several novel modifications for zero-shot multi-speaker and multilingual training. We achieved state-of-the-art (SOTA) results in zero-shot multi-speaker TTS and results comparable to SOTA in zero-shot voice conversion on the VCTK dataset.</i> <a href="https://arxiv.org/abs/2112.02418">Link</a></p>
        <p>SYNTACC (NGUYEN <i>et al</i>, 2023): <i>The method works by decomposing each weight matrix into a shared component and an accent-dependent component, with the former being initialized by the pretrained multi-speaker TTS model and the latter being factorized into vectors using rank-1 matrices to reduce the number of training parameters per accent. This weight factorization method proves to be effective in fine-tuning the SYNTACC on multi-accent data sets in a low-resource condition.</i> <a href="https://ieeexplore.ieee.org/document/10096431">Link</a></p>
        <hr>
    </header>

    <select id="experimentSelect" onchange="showExperiment()">
        <option value="">Select Experiment</option>
        <option value="experiment1">Experiment 1: Transfer accent</option>
        <option value="experiment2">Experiment 2: General quality</option>
    </select>

    <div id="experiment1" class="experiment-section">
        <h2>Experiment 1: Transfer accent</h2>
        <p>Observações: em brsp1 é possível observar que em alguns sotaques. Nota-se mudança de prosódia, com alguns sotaques mostrando características interessantes como o 's' do Rio de Janeiro e a entonação da Paraíba, Ceará e Bahia, além do sotaque estrangeiro (Alemanha). Porém, nas falas das planilhas de teste, é difícil de provar esse aprendizado, além de que a diferença entre o yourtts e o syntacc não fica muito evidente de modo geral.</p>
        <div id="audioTable"></div>
    </div>

    <div id="experiment2" class="experiment-section">
        <h2>Experiment 2: General quality</h2>
        <div id="audioTable2"></div>
    </div>

    <script>
        const audioFiles = [
            'yourtts/bral-1/braltobral-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobralemanha-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrba-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrce-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrgo-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrmg-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrpb-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrpe-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrportugal-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrpr-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrrj-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrrs-yourtts-505Ksteps.wav',
            'yourtts/bral-1/braltobrsp-yourtts-505Ksteps.wav',

            'yourtts/brpb-1/brpbtobral-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobralemanha-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrba-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrce-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrgo-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrmg-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrpb-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrpe-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrportugal-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrpr-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrrj-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrrs-yourtts-505Ksteps.wav',
            'yourtts/brpb-1/brpbtobrsp-yourtts-505Ksteps.wav',

            'yourtts/brsp-2/brsptobral-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobralemanha-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrba-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrce-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrgo-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrmg-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrpb-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrpe-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrportugal-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrpr-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrrj-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrrs-yourtts-505Ksteps.wav',
            'yourtts/brsp-2/brsptobrsp-yourtts-505Ksteps.wav',

            'syntacc/bral-1/braltobral-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobralemanha-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrba-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrce-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrgo-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrmg-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrpb-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrpe-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrportugal-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrpr-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrrj-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrrs-syntacc-295Ksteps.wav',
            'syntacc/bral-1/braltobrsp-syntacc-295Ksteps.wav',

            'syntacc/brpb-1/brpbtobral-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobralemanha-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrba-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrce-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrgo-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrmg-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrpb-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrpe-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrportugal-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrpr-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrrj-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrrs-syntacc-295Ksteps.wav',
            'syntacc/brpb-1/brpbtobrsp-syntacc-295Ksteps.wav',

            'syntacc/brsp-2/brsptobral-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobralemanha-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrba-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrce-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrgo-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrmg-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrpb-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrpe-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrportugal-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrpr-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrrj-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrrs-syntacc-295Ksteps.wav',
            'syntacc/brsp-2/brsptobrsp-syntacc-295Ksteps.wav'
        ];

        function createAudioTable() {
            const table = document.createElement('table');
            table.innerHTML = `
                <tr>
                    <th>Speaker Sample</th>
                    <th>YourTTS</th>
                    <th>SYNTACC</th>
                </tr>
            `;

            const accents = [...new Set(audioFiles.map(file => file.match(/\/([a-z]+)-\d+\//)[1]))];

            accents.forEach(accent => {
                const row = table.insertRow();
                const speakerCell = row.insertCell();
                speakerCell.innerHTML = `Accent: ${accent}<br>
                    <audio controls>
                        <source src="yourtts/${accent}-1/ground_truth.wav" type="audio/wav">
                    </audio><br><i>Speaker: "Transcription"</i>`;

                const yourttsCell = row.insertCell();
                audioFiles.filter(file => file.includes('yourtts') && file.includes(accent)).forEach(file => {
                    const accentName = file.match(/(?<=to)[a-z]+(?=-)/)[0];
                    yourttsCell.innerHTML += `Accent: ${accentName}<br>
                        <audio controls>
                            <source src="${file}" type="audio/wav">
                        </audio><br>`;
                });

                const syntaccCell = row.insertCell();
                audioFiles.filter(file => file.includes('syntacc') && file.includes(accent)).forEach(file => {
                    const accentName = file.match(/(?<=to)[a-z]+(?=-)/)[0];
                    syntaccCell.innerHTML += `Accent: ${accentName}<br>
                        <audio controls>
                            <source src="${file}" type="audio/wav">
                        </audio><br>`;
                });
            });

            document.getElementById('audioTable').appendChild(table);
        }

        function showExperiment() {
            const selectedExperiment = document.getElementById('experimentSelect').value;
            document.querySelectorAll('.experiment-section').forEach(section => {
                section.style.display = 'none';
            });
            if (selectedExperiment) {
                document.getElementById(selectedExperiment).style.display = 'block';
            }
            if (selectedExperiment === 'experiment1') {
                createAudioTable();
            }
        }
    </script>
</body>
</html>
